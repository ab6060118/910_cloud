<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

	<link rel="stylesheet" href="css/default/style.css" />
	<link rel="stylesheet" href="css/vendor/bootstrap.min.css" />
</head>
<body>
    <div class="container">
        <div class="content">
            <div id="ajaxTree" class=""></div>
        </div>
    </div>

    <div id="myModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>

                <div class="modal-body">
                    <img id="modalImg" style="margin:auto; width:100%" src="" />
                </div> 
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="js/vendor/jstree.min.js"></script>
    <script src="js/vendor/bootstrap.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#ajaxTree').jstree({
                'core' : {
                    'data' : {
                        "url" : "./tree.json",
                        "dataType" : "json" // needed only if you do not supply JSON headers
                    }
                }
            });

            $('#ajaxTree').on('select_node.jstree', function(e, data) {
                if(data.node.a_attr.href != undefined) {
                    var type=data.node.a_attr.fileType;
                    var link=data.node.a_attr.href;
                    switch(type) {
                        case 'jpg':
                        case 'png':
                            $('#myModal').modal('show');
                            $('#modalImg').attr("src", link);
                            break;
                        case 'mp4':
                        case 'wmv':
                        case 'mkv':
                        case 'avi':
                            window.open(link);
                            break;
                        default:
                            break;
                    }
                }
            });
        });
        
    </script>
</body>
</html>
